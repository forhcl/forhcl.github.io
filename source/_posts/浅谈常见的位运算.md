---
title: 浅谈常见的位运算
hidden: true
date: 2020-01-25 17:19:31
tags:
categories:
---

&emsp;&emsp;我们总是能在日常学习开发中看到位运算的踪迹，比如ArrayList的扩容，大家都说是原来容量的1.5倍，但是在JDK源码中是`int newCapacity = oldCapacity + (oldCapacity >> 1);`这样子实现的,又如二分查找中，求mid的时候写成`int mid=left+(right-left)/2`能够在一定程度上减少溢出的可能性，但更好的写法是`int mid = (left + right) >>> 1` 和 `int mid = (left + right + 1) >>> 1`。还有求奇数偶数的时候，我见过最好也是最简单的解法是通过**按位与运算符**实现的。

&emsp;&emsp;那为什么这么多优秀的作品明明可以采用简单易懂的计算方式，但是并不使用，这是为什么呢？今天我就和大家来聊一聊常见的几个位运算，左移(<<)、带符号位的右移(>>)、不带符号位的右移(>>>)、二进制与(&)。让我们来看看他们的为什么要这样子用，还有在什么样的场景中适合使用它们。

**由于CPU直接支持位运算，因此位运算比乘法运算的效率高。**



为什么右移分无符号右移和有符号右移，但是左移没有这样子分呢？

计算机中是如何存储和计算数据的？？**注意：二进制数在计算的时候是基于补码的！！！**  为什么呢？

在[计算机](https://baike.baidu.com/item/计算机/140338)系统中，数值一律用补码来表示和存储。原因在于，使用补码，可以将符号位和数值域统一处理；同时，加法和减法也可以统一处理

左移、右移都等同于什么样的计算呢？